(()=>{var e={562:(e,t,s)=>{var r=s(869).Buffer;const{Transform:i}=s(86),[o]=r.from("\r"),[n]=r.from("\n"),a={escape:'"',headers:null,mapHeaders:({header:e})=>e,mapValues:({value:e})=>e,newline:"\n",quote:'"',raw:!1,separator:",",skipComments:!1,skipLines:null,maxRowBytes:Number.MAX_SAFE_INTEGER,strict:!1};class h extends i{constructor(e={}){super({objectMode:!0,highWaterMark:16}),Array.isArray(e)&&(e={headers:e});const t=Object.assign({},a,e);t.customNewline=t.newline!==a.newline;for(const e of["newline","quote","separator"])void 0!==t[e]&&([t[e]]=r.from(t[e]));t.escape=(e||{}).escape?r.from(t.escape)[0]:t.quote,this.state={empty:t.raw?r.alloc(0):"",escaped:!1,first:!0,lineNumber:0,previousEnd:0,rowLength:0,quoted:!1},this._prev=null,!1===t.headers&&(t.strict=!1),(t.headers||!1===t.headers)&&(this.state.first=!1),this.options=t,this.headers=t.headers}parseCell(e,t,s){const{escape:r,quote:i}=this.options;e[t]===i&&e[s-1]===i&&(t++,s--);let o=t;for(let n=t;n<s;n++)e[n]===r&&n+1<s&&e[n+1]===i&&n++,o!==n&&(e[o]=e[n]),o++;return this.parseValue(e,t,o)}parseLine(e,t,s){const{customNewline:i,escape:n,mapHeaders:a,mapValues:h,quote:l,separator:c,skipComments:p,skipLines:u}=this.options;s--,!i&&e.length&&e[s-1]===o&&s--;const f=c,d=[];let v=!1,m=t;if(p){const s="string"==typeof p?p:"#";if(e[t]===r.from(s)[0])return}const _=e=>{if(this.state.first)return e;const t=d.length,s=this.headers[t];return h({header:s,index:t,value:e})};for(let r=t;r<s;r++){const t=!v&&e[r]===l,i=v&&e[r]===l&&r+1<=s&&e[r+1]===f,o=v&&e[r]===n&&r+1<s&&e[r+1]===l;if(t||i)v=!v;else if(o)r++;else if(e[r]===f&&!v){let t=this.parseCell(e,m,r);t=_(t),d.push(t),m=r+1}}if(m<s){let t=this.parseCell(e,m,s);t=_(t),d.push(t)}e[s-1]===f&&d.push(_(this.state.empty));const w=u&&u>this.state.lineNumber;if(this.state.lineNumber++,this.state.first&&!w)return this.state.first=!1,this.headers=d.map(((e,t)=>a({header:e,index:t}))),void this.emit("headers",this.headers);if(!w&&this.options.strict&&d.length!==this.headers.length){const e=new RangeError("Row length does not match headers");this.emit("error",e)}else w||this.writeRow(d)}parseValue(e,t,s){return this.options.raw?e.slice(t,s):e.toString("utf-8",t,s)}writeRow(e){const t=!1===this.headers?e.map(((e,t)=>t)):this.headers,s=e.reduce(((e,s,r)=>{const i=t[r];return null===i||(void 0!==i?e[i]=s:e[`_${r}`]=s),e}),{});this.push(s)}_flush(e){if(this.state.escaped||!this._prev)return e();this.parseLine(this._prev,this.state.previousEnd,this._prev.length+1),e()}_transform(e,t,s){"string"==typeof e&&(e=r.from(e));const{escape:i,quote:a}=this.options;let h=0,l=e;this._prev&&(h=this._prev.length,l=r.concat([this._prev,e]),this._prev=null);const c=l.length;for(let e=h;e<c;e++){const t=l[e],r=e+1<c?l[e+1]:null;if(this.state.rowLength++,this.state.rowLength>this.options.maxRowBytes)return s(new Error("Row exceeds the maximum size"));this.state.escaped||t!==i||r!==a||e===h?t!==a?this.state.quoted||(this.state.first&&!this.options.customNewline&&(t===n?this.options.newline=n:t===o&&r!==n&&(this.options.newline=o)),t===this.options.newline&&(this.parseLine(l,this.state.previousEnd,e+1),this.state.previousEnd=e+1,this.state.rowLength=0)):this.state.escaped?this.state.escaped=!1:this.state.quoted=!this.state.quoted:this.state.escaped=!0}return this.state.previousEnd===c?(this.state.previousEnd=0,s()):c-this.state.previousEnd<e.length?(this._prev=e,this.state.previousEnd-=c-e.length,s()):(this._prev=l,void s())}}e.exports=e=>new h(e)},624:e=>{function t(e){if(e)return function(e){for(var s in t.prototype)e[s]=t.prototype[s];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){var s=this;function r(){s.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((s=r[i])===t||s.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),s=this._callbacks[e];if(s)for(var r=0,i=(s=s.slice(0)).length;r<i;++r)s[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},86:(e,t,s)=>{var r=s(624);function i(){r.call(this)}i.prototype=new r,e.exports=i,i.Stream=i,i.prototype.pipe=function(e,t){var s=this;function r(t){e.writable&&!1===e.write(t)&&s.pause&&s.pause()}function i(){s.readable&&s.resume&&s.resume()}s.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(s.on("end",n),s.on("close",a));var o=!1;function n(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(l(),!this.hasListeners("error"))throw e}function l(){s.off("data",r),e.off("drain",i),s.off("end",n),s.off("close",a),s.off("error",h),e.off("error",h),s.off("end",l),s.off("close",l),e.off("end",l),e.off("close",l)}return s.on("error",h),e.on("error",h),s.on("end",l),s.on("close",l),e.on("end",l),e.on("close",l),e.emit("pipe",s),e}},869:e=>{"use strict";e.exports=buffer}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}(()=>{"use strict";s(869);var e=s(562);console.log("connected to server"),csvFilePath="../archive/characters.csv";const t=require("fs"),r=[];t(csvFilePath).pipe(e()).on("data",(e=>{r.push(e)})).on("end",(()=>{const e=Object.keys(r[0]);console.log(e),console.log("all data received"),console.log(r);const t=document.getElementById("output"),s=document.createTextNode(e);t.appendChild(s)}))})()})();